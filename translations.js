// Language translations
const translations = {
    ar: {
        // Navigation
        'nav-home': 'الرئيسية',
        'nav-menu': 'القائمة',
        'nav-about': 'من نحن',
        'nav-contact': 'اتصل بنا',
        
        // Hero Section
        'hero-title': 'أفضل بيتزا في المدينة',
        'hero-subtitle': 'طعم أصيل وجودة عالية مع توصيل سريع',
        'cta-button': 'اطلب الآن',
        
        // Menu Section
        'menu-title': 'قائمة الطعام',
        'category-all': 'الكل',
        'category-pizza': 'بيتزا',
        'category-pasta': 'باستا',
        'category-drinks': 'مشروبات',
        'add-to-cart': 'إضافة للسلة',
        'price-currency': 'ريال',
        
        // Menu Items
        'pizza-margherita': 'بيتزا مارجريتا',
        'pizza-margherita-desc': 'صلصة طماطم، جبنة موزاريلا، ريحان طازج',
        'pizza-pepperoni': 'بيتزا بيبروني',
        'pizza-pepperoni-desc': 'صلصة طماطم، جبنة موزاريلا، بيبروني',
        'pizza-veggie': 'بيتزا الخضار',
        'pizza-veggie-desc': 'صلصة طماطم، جبنة، فلفل ملون، زيتون، فطر',
        'pizza-meat': 'بيتزا اللحم',
        'pizza-meat-desc': 'صلصة طماطم، جبنة، لحم مفروم، بصل',
        'pasta-carbonara': 'باستا كاربونارا',
        'pasta-carbonara-desc': 'باستا بالكريمة والبيكون والجبن',
        'pasta-arrabbiata': 'باستا أرابياتا',
        'pasta-arrabbiata-desc': 'باستا بصلصة الطماطم الحارة',
        'orange-juice': 'عصير برتقال طازج',
        'orange-juice-desc': 'عصير برتقال طبيعي 100%',
        'coca-cola': 'كوكا كولا',
        'coca-cola-desc': 'مشروب غازي منعش',
        'apple-juice': 'عصير تفاح طازج',
        'apple-juice-desc': 'عصير تفاح طبيعي بدون إضافات',
        'mango-juice': 'عصير مانجو',
        'mango-juice-desc': 'عصير مانجو استوائي لذيذ',
        'mojito': 'موهيتو بدون كحول',
        'mojito-desc': 'مشروب منعش بالنعناع والليمون',
        'iced-tea': 'شاي مثلج',
        'iced-tea-desc': 'شاي مثلج بالليمون والنعناع',
        'iced-coffee': 'قهوة مثلجة',
        'iced-coffee-desc': 'قهوة مثلجة بالكراميل',
        'strawberry-juice': 'عصير فراولة',
        'strawberry-juice-desc': 'عصير فراولة طازج ولذيذ',
        'mineral-water': 'ماء معدني',
        'mineral-water-desc': 'ماء معدني طبيعي',
        
        // About Section
        'about-title': 'من نحن',
        'about-description': 'نحن في بيتزا ماما نقدم أفضل أنواع البيتزا المصنوعة من أجود المكونات الطازجة. تأسسنا عام 2010 ومنذ ذلك الحين ونحن نسعى لتقديم تجربة طعام لا تُنسى لعملائنا الكرام.',
        'feature-delivery': 'توصيل سريع',
        'feature-delivery-desc': 'توصيل خلال 30 دقيقة أو أقل',
        'feature-fresh': 'مكونات طازجة',
        'feature-fresh-desc': 'نستخدم أجود المكونات الطازجة يومياً',
        'feature-love': 'صنع بحب',
        'feature-love-desc': 'كل بيتزا مصنوعة بعناية وحب',
        
        // Contact Section
        'contact-title': 'اتصل بنا',
        'contact-phone': 'الهاتف',
        'contact-address': 'العنوان',
        'contact-address-text': 'شارع الملك فهد، الرياض، المملكة العربية السعودية',
        'contact-hours': 'ساعات العمل',
        'contact-hours-text': 'يومياً من 11:00 ص إلى 12:00 م',
        'form-name': 'الاسم',
        'form-email': 'البريد الإلكتروني',
        'form-phone': 'رقم الهاتف',
        'form-message': 'الرسالة',
        'form-submit': 'إرسال الرسالة',
        'form-success': 'شكراً لك! تم إرسال رسالتك بنجاح. سنتواصل معك قريباً.',
        
        // Cart
        'cart-title': 'سلة التسوق',
        'cart-empty': 'السلة فارغة',
        'cart-total': 'المجموع',
        'checkout': 'إتمام الطلب',
        'order-confirmed': 'تم تأكيد طلبك!',
        'order-details': 'تفاصيل الطلب:',
        'order-total': 'المجموع:',
        'order-contact': 'سيتم التواصل معك لتأكيد التوصيل.',
        'remove': 'حذف',
        
        // Footer
        'footer-description': 'أفضل بيتزا في المدينة',
        'footer-links': 'روابط سريعة',
        'footer-contact-info': 'معلومات التواصل',
        'footer-rights': 'جميع الحقوق محفوظة.',
        
        // AI Assistant
        'ai-assistant': 'المساعد الذكي',
        'ai-placeholder': 'اسأل عن أي شيء...',
        'ai-send': 'إرسال',
        'ai-welcome': 'مرحباً! أنا مساعدك الذكي. كيف يمكنني مساعدتك اليوم؟'
    },
    
    en: {
        // Navigation
        'nav-home': 'Home',
        'nav-menu': 'Menu',
        'nav-about': 'About',
        'nav-contact': 'Contact',
        
        // Hero Section
        'hero-title': 'Best Pizza in Town',
        'hero-subtitle': 'Authentic taste and high quality with fast delivery',
        'cta-button': 'Order Now',
        
        // Menu Section
        'menu-title': 'Food Menu',
        'category-all': 'All',
        'category-pizza': 'Pizza',
        'category-pasta': 'Pasta',
        'category-drinks': 'Drinks',
        'add-to-cart': 'Add to Cart',
        'price-currency': 'SAR',
        
        // Menu Items
        'pizza-margherita': 'Margherita Pizza',
        'pizza-margherita-desc': 'Tomato sauce, mozzarella cheese, fresh basil',
        'pizza-pepperoni': 'Pepperoni Pizza',
        'pizza-pepperoni-desc': 'Tomato sauce, mozzarella cheese, pepperoni',
        'pizza-veggie': 'Veggie Pizza',
        'pizza-veggie-desc': 'Tomato sauce, cheese, colorful peppers, olives, mushrooms',
        'pizza-meat': 'Meat Pizza',
        'pizza-meat-desc': 'Tomato sauce, cheese, ground meat, onions',
        'pasta-carbonara': 'Pasta Carbonara',
        'pasta-carbonara-desc': 'Pasta with cream, bacon and cheese',
        'pasta-arrabbiata': 'Pasta Arrabbiata',
        'pasta-arrabbiata-desc': 'Pasta with spicy tomato sauce',
        'orange-juice': 'Fresh Orange Juice',
        'orange-juice-desc': '100% natural orange juice',
        'coca-cola': 'Coca Cola',
        'coca-cola-desc': 'Refreshing soft drink',
        'apple-juice': 'Fresh Apple Juice',
        'apple-juice-desc': 'Natural apple juice without additives',
        'mango-juice': 'Mango Juice',
        'mango-juice-desc': 'Delicious tropical mango juice',
        'mojito': 'Virgin Mojito',
        'mojito-desc': 'Refreshing drink with mint and lime',
        'iced-tea': 'Iced Tea',
        'iced-tea-desc': 'Iced tea with lemon and mint',
        'iced-coffee': 'Iced Coffee',
        'iced-coffee-desc': 'Iced coffee with caramel',
        'strawberry-juice': 'Strawberry Juice',
        'strawberry-juice-desc': 'Fresh and delicious strawberry juice',
        'mineral-water': 'Mineral Water',
        'mineral-water-desc': 'Natural mineral water',
        
        // About Section
        'about-title': 'About Us',
        'about-description': 'At Pizza Mama, we serve the best pizzas made from the finest fresh ingredients. Founded in 2010, we have been striving to provide an unforgettable dining experience for our valued customers.',
        'feature-delivery': 'Fast Delivery',
        'feature-delivery-desc': 'Delivery within 30 minutes or less',
        'feature-fresh': 'Fresh Ingredients',
        'feature-fresh-desc': 'We use the finest fresh ingredients daily',
        'feature-love': 'Made with Love',
        'feature-love-desc': 'Every pizza is made with care and love',
        
        // Contact Section
        'contact-title': 'Contact Us',
        'contact-phone': 'Phone',
        'contact-address': 'Address',
        'contact-address-text': 'King Fahd Street, Riyadh, Saudi Arabia',
        'contact-hours': 'Working Hours',
        'contact-hours-text': 'Daily from 11:00 AM to 12:00 AM',
        'form-name': 'Name',
        'form-email': 'Email',
        'form-phone': 'Phone Number',
        'form-message': 'Message',
        'form-submit': 'Send Message',
        'form-success': 'Thank you! Your message has been sent successfully. We will contact you soon.',
        
        // Cart
        'cart-title': 'Shopping Cart',
        'cart-empty': 'Cart is empty',
        'cart-total': 'Total',
        'checkout': 'Checkout',
        'order-confirmed': 'Your order has been confirmed!',
        'order-details': 'Order details:',
        'order-total': 'Total:',
        'order-contact': 'We will contact you to confirm delivery.',
        'remove': 'Remove',
        
        // Footer
        'footer-description': 'Best pizza in town',
        'footer-links': 'Quick Links',
        'footer-contact-info': 'Contact Information',
        'footer-rights': 'All rights reserved.',
        
        // AI Assistant
        'ai-assistant': 'AI Assistant',
        'ai-placeholder': 'Ask anything...',
        'ai-send': 'Send',
        'ai-welcome': 'Hello! I\'m your AI assistant. How can I help you today?'
    }
};

// Current language
let currentLanguage = localStorage.getItem('language') || 'ar';

// Language toggle function
function toggleLanguage() {
    currentLanguage = currentLanguage === 'ar' ? 'en' : 'ar';
    localStorage.setItem('language', currentLanguage);
    updateLanguage();
}

// Update language function
function updateLanguage() {
    const elements = document.querySelectorAll('[data-key]');
    elements.forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[currentLanguage][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[currentLanguage][key];
            } else {
                element.textContent = translations[currentLanguage][key];
            }
        }
    });
    
    // Update document direction and language
    document.documentElement.lang = currentLanguage;
    document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
    document.body.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
    
    // Update language toggle button
    const langText = document.getElementById('lang-text');
    if (langText) {
        langText.textContent = currentLanguage === 'ar' ? 'EN' : 'عر';
    }
    
    // Update menu items
    updateMenuItemsLanguage();
    
    // Update cart if open
    if (document.getElementById('cart-modal').style.display === 'block') {
        displayCartItems();
    }
}

// Update menu items language
function updateMenuItemsLanguage() {
    const menuItemsData = [
        {
            id: 1,
            nameKey: 'pizza-margherita',
            descKey: 'pizza-margherita-desc'
        },
        {
            id: 2,
            nameKey: 'pizza-pepperoni',
            descKey: 'pizza-pepperoni-desc'
        },
        {
            id: 3,
            nameKey: 'pizza-veggie',
            descKey: 'pizza-veggie-desc'
        },
        {
            id: 4,
            nameKey: 'pizza-meat',
            descKey: 'pizza-meat-desc'
        },
        {
            id: 5,
            nameKey: 'pasta-carbonara',
            descKey: 'pasta-carbonara-desc'
        },
        {
            id: 6,
            nameKey: 'pasta-arrabbiata',
            descKey: 'pasta-arrabbiata-desc'
        },
        {
            id: 7,
            nameKey: 'orange-juice',
            descKey: 'orange-juice-desc'
        },
        {
            id: 8,
            nameKey: 'coca-cola',
            descKey: 'coca-cola-desc'
        },
        {
            id: 9,
            nameKey: 'apple-juice',
            descKey: 'apple-juice-desc'
        },
        {
            id: 10,
            nameKey: 'mango-juice',
            descKey: 'mango-juice-desc'
        },
        {
            id: 11,
            nameKey: 'mojito',
            descKey: 'mojito-desc'
        },
        {
            id: 12,
            nameKey: 'iced-tea',
            descKey: 'iced-tea-desc'
        },
        {
            id: 13,
            nameKey: 'iced-coffee',
            descKey: 'iced-coffee-desc'
        },
        {
            id: 14,
            nameKey: 'strawberry-juice',
            descKey: 'strawberry-juice-desc'
        },
        {
            id: 15,
            nameKey: 'mineral-water',
            descKey: 'mineral-water-desc'
        }
    ];
    
    // Update menu items in the global menuItems array
    menuItems.forEach((item, index) => {
        const itemData = menuItemsData.find(data => data.id === item.id);
        if (itemData) {
            item.name = translations[currentLanguage][itemData.nameKey];
            item.description = translations[currentLanguage][itemData.descKey];
        }
    });
    
    // Re-display menu items
    displayMenuItems(menuItems);
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
    updateLanguage();
});
